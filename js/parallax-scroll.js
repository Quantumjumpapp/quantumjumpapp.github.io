jQuery(function(){ParallaxScroll.init()});var ParallaxScroll={showLogs:false,round:1000,init:function(){this._log("init");if(this._inited){this._log("Already Inited");this._inited=true;return}this._requestAnimationFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b,a){window.setTimeout(b,1000/60)}})();this._onScroll(true)},_inited:false,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(a){if(this.showLogs){console.log("Parallax Scroll / "+a)}},_onScroll:function(b){var a=jQuery(document).scrollTop();var c=jQuery(window).height();this._log("onScroll "+a);jQuery("[data-parallax]").each(jQuery.proxy(function(m,e){var o=jQuery(e);var n=[];var s=false;var v=o.data("style");if(v==undefined){v=o.attr("style")||"";o.data("style",v)}var y=[o.data("parallax")];var C;for(C=2;;C++){if(o.data("parallax"+C)){y.push(o.data("parallax-"+C))}else{break}}var p=y.length;for(C=0;C<p;C++){var A=y[C];var j=A["from-scroll"];if(j==undefined){j=Math.max(0,jQuery(e).offset().top-c)}j=j|0;var q=A.distance;var g=A["to-scroll"];if(q==undefined&&g==undefined){q=c}q=Math.max(q|0,1);var t=A.easing;var u=A["easing-return"];if(t==undefined||!jQuery.easing||!jQuery.easing[t]){t=null}if(u==undefined||!jQuery.easing||!jQuery.easing[u]){u=t}if(t){var l=A.duration;if(l==undefined){l=q}l=Math.max(l|0,1);var B=A["duration-return"];if(B==undefined){B=l}q=1;var x=o.data("current-time");if(x==undefined){x=0}}if(g==undefined){g=j+q}g=g|0;var f=A.smoothness;if(f==undefined){f=30}f=f|0;if(b||f==0){f=1}f=f|0;var w=a;w=Math.max(w,j);w=Math.min(w,g);if(t){if(o.data("sens")==undefined){o.data("sens","back")}if(w>j){if(o.data("sens")=="back"){x=1;o.data("sens","go")}else{x++}}if(w<g){if(o.data("sens")=="go"){x=1;o.data("sens","back")}else{x++}}if(b){x=l}o.data("current-time",x)}this._properties.map(jQuery.proxy(function(J){var D=0;var I=A[J];if(I==undefined){return}if(J=="scale"||J=="scaleX"||J=="scaleY"||J=="scaleZ"){D=1}else{I=I|0}var F=o.data("_"+J);if(F==undefined){F=D}var E=((I-D)*((w-j)/(g-j)))+D;var G=F+(E-F)/f;if(t&&x>0&&x<=l){var H=D;if(o.data("sens")=="back"){H=I;I=-I;t=u;l=B}G=jQuery.easing[t](null,x,H,I,l)}G=Math.ceil(G*this.round)/this.round;if(G==F&&E==I){G=I}if(!n[J]){n[J]=0}n[J]+=G;if(F!=n[J]){o.data("_"+J,n[J]);s=true}},this))}if(s){if(n.z!=undefined){var r=A.perspective;if(r==undefined){r=800}var d=o.parent();if(!d.data("style")){d.data("style",d.attr("style")||"")}d.attr("style","perspective:"+r+"px; -webkit-perspective:"+r+"px; "+d.data("style"))}if(n.scaleX==undefined){n.scaleX=1}if(n.scaleY==undefined){n.scaleY=1}if(n.scaleZ==undefined){n.scaleZ=1}if(n.scale!=undefined){n.scaleX*=n.scale;n.scaleY*=n.scale;n.scaleZ*=n.scale}var z="translate3d("+(n.x?n.x:0)+"px, "+(n.y?n.y:0)+"px, "+(n.z?n.z:0)+"px)";var k="rotateX("+(n.rotateX?n.rotateX:0)+"deg) rotateY("+(n.rotateY?n.rotateY:0)+"deg) rotateZ("+(n.rotateZ?n.rotateZ:0)+"deg)";var i="scaleX("+n.scaleX+") scaleY("+n.scaleY+") scaleZ("+n.scaleZ+")";var h=z+" "+k+" "+i+";";this._log(h);o.attr("style","transform:"+h+" -webkit-transform:"+h+" "+v)}},this));if(window.requestAnimationFrame){window.requestAnimationFrame(jQuery.proxy(this._onScroll,this,false))}else{this._requestAnimationFrame(jQuery.proxy(this._onScroll,this,false))}}};